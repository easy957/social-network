"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[25],{1468:function(e,t,o){var r=o(8683),s=o(8687),n=o(7689),i=o(184);function a(e){return{isAuth:e.auth.isAuth}}t.Z=function(e){return(0,s.$j)(a)((function(t){return t.isAuth?(0,i.jsx)(e,(0,r.Z)({},t)):(0,i.jsx)(n.Fg,{to:"/login"})}))}},1025:function(e,t,o){o.r(t),o.d(t,{default:function(){return ie}});var r=o(5671),s=o(3144),n=o(136),i=o(516),a=o(8687),l="ProfileInfo_profile__XM2oU",u="ProfileInfo_name__nzLXx",c="ProfileInfo_photo__xlmyX",d="ProfileInfo_links__mTIPu",p="ProfileInfo_link__RK8eP",f="ProfileInfo_aboutMe__l7xQO",h="ProfileInfo_status__YrBI5",m="ProfileInfo_statusInput__XlSnR",x="ProfileInfo_uploadPhoto__rkocf",j="ProfileInfo_editProfile__wBdE-",_="ProfileInfo_editButtons__2gLxC",g=o(4622),v=o(9439),P=o(2791),N=o(184);var b=function(e){var t=e.status,o=e.updateStatus,r=(0,P.useState)(!1),s=(0,v.Z)(r,2),n=s[0],i=s[1],a=(0,P.useState)(t),l=(0,v.Z)(a,2),u=l[0],c=l[1];function d(){n&&t!==u&&o(u),i(!n)}return(0,P.useEffect)((function(){c(t)}),[t]),(0,N.jsxs)(N.Fragment,{children:[!n&&(0,N.jsx)("p",{onDoubleClick:d,className:h,children:t||"(double click to edit your status)"}),n&&(0,N.jsx)("input",{value:u,onInput:function(e){var t=e.currentTarget;c(t.value)},onBlur:d,className:m,autoFocus:!0})]})},Z=o(7142),k=o(6139),y=o(9274),C=o(6051),I=o(4544),F="ProfileEditForm_wrapper__g-1xj",w="ProfileEditForm_fieldsContainer__vA7hr",M="ProfileEditForm_lookingForContainer__GPeKr",S="ProfileEditForm_lookingForInput__24kXi",E="ProfileEditForm_saveBtn__w6BTT";var A=function(e){var t=e.handleSubmit,o=e.profile,r=e.error,s=(0,P.useState)(o.lookingForAJob),n=(0,v.Z)(s,2),i=n[0],a=n[1];return(0,N.jsxs)("form",{className:F,onSubmit:t,children:[(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:w,children:[(0,N.jsx)("span",{children:"Full name: "}),(0,N.jsx)(k.Z,{validate:[C.C],name:"fullName",component:y.N,placeholder:"enter your full name"})]}),(0,N.jsxs)("div",{children:[(0,N.jsx)("span",{children:"Links: "}),Object.entries(o.contacts).map((function(e){return(0,N.jsx)(k.Z,{name:"contacts.".concat(e[0]),component:y.N,placeholder:e[0]},e[0])}))]})]}),(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:w,children:[(0,N.jsx)("span",{children:"About me: "}),(0,N.jsx)(k.Z,{name:"aboutMe",type:"textarea",component:y.N,placeholder:"tell something about yourself"})]}),(0,N.jsxs)("div",{className:w,children:[(0,N.jsxs)("div",{className:M,children:[(0,N.jsx)("span",{children:"Looking for a job? "}),(0,N.jsx)(k.Z,{className:S,onChange:function(){a(!i)},name:"lookingForAJob",component:y.N,type:"checkbox"})]}),i&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("span",{children:"Which job are you looking for? "}),(0,N.jsx)(k.Z,{name:"lookingForAJobDescription",type:"textarea",component:y.N,placeholder:"tell something about yourself"})]}),r&&(0,N.jsx)("p",{className:I.Z.formError,children:r})]}),(0,N.jsx)("button",{className:E,children:"Save"})]})]})},B=o(704),U=(0,B.Z)({form:"edit-profile"})(A);var O=function(e){var t=e.updateStatus,o=e.profile,r=e.status,s=e.uploadPhoto,n=e.isOwner,i=e.editMode,a=e.toggleEditMode,h=e.updateProfile;return o?(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:l,children:[(0,N.jsxs)("div",{children:[(0,N.jsx)("img",{className:c,src:"".concat(null===o.photos.large?g:o.photos.large),alt:"Profile"}),(0,N.jsx)("div",{className:_,children:n&&(0,N.jsxs)(N.Fragment,{children:[(0,N.jsxs)("label",{className:x,children:["Upload new photo",(0,N.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}})]}),!i&&(0,N.jsx)("button",{className:j,onClick:function(){a(!i)},children:"Edit Profile"})]})})]}),i?(0,N.jsx)(U,{initialValues:o,profile:o,onSubmit:function(e){h(e)}}):(0,N.jsxs)("div",{children:[(0,N.jsx)("h2",{className:u,children:o.fullName}),(0,N.jsx)(b,{updateStatus:t,status:r}),(0,N.jsx)("ul",{className:d,children:Object.entries(o.contacts).map((function(e){if(e[1])return(0,N.jsx)("li",{children:(0,N.jsx)("a",{target:"_blank",className:p,href:e[1],rel:"noreferrer",children:e[0]})},e[0])}))}),(0,N.jsx)("p",{className:f,children:o.aboutMe}),function(){if(o.lookingForAJob)return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)("h3",{children:"Looking for a job: "}),(0,N.jsx)("p",{children:o.lookingForAJobDescription})]})}()]})]})}):(0,N.jsx)(Z.Z,{})},R="MyPosts_list__3Nw2i",D="MyPosts_wrapper__u1ISI",J=(0,C.B)(50);var L=function(e){var t=e.handleSubmit;return(0,N.jsxs)("form",{onSubmit:t,children:[(0,N.jsx)(k.Z,{component:y.N,type:"textarea",name:"newPost",validate:[J,C.C],placeholder:"Create new post."}),(0,N.jsx)("button",{children:"Add Post"})]})},K="Post_post__wW6-Y",T="Post_avatar__J150j",q="Post_text__Js3ZD",X="Post_content__DFcK4",Y="Post_likes__K9KVP";var V=function(e){var t=e.message,o=e.likesCount;return(0,N.jsxs)("li",{className:K,children:[(0,N.jsx)("img",{className:T,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQxCgYOgHmN5jdz_T0RLYI9BUhR6nYs2fK8NA&usqp=CAU",alt:"Profile"}),(0,N.jsxs)("div",{className:X,children:[(0,N.jsx)("p",{className:q,children:t}),(0,N.jsxs)("p",{className:Y,children:[o," likes"]})]})]})},W=(0,B.Z)({form:"newPost"})(L),$=function(e){var t=e.posts,o=e.addPost;return(0,N.jsxs)("div",{className:D,children:[(0,N.jsx)("h2",{children:"my posts"}),(0,N.jsx)(W,{onSubmit:function(e){var t=e.newPost;o(t)}}),(0,N.jsx)("ul",{className:R,children:t.map((function(e){var t=e.text,o=e.likesCount,r=e.id;return(0,N.jsx)(V,{message:t,likesCount:o},r)}))})]})},z=o(6407),G=(0,a.$j)((function(e){return{posts:e.profilePage.posts}}),{addPost:z.q2})($),H={};var Q=function(e){var t=e.updateStatus,o=e.profile,r=e.status,s=e.uploadPhoto,n=e.isOwner,i=e.editMode,a=e.toggleEditMode,l=e.updateProfile;return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:H.wrapper,children:[(0,N.jsx)(O,{profile:o,isOwner:n,status:r,updateStatus:t,uploadPhoto:s,editMode:i,toggleEditMode:a,updateProfile:l}),(0,N.jsx)(G,{})]})})},ee=o(8683),te=o(7689);var oe=function(e){return function(t){var o=(0,te.TH)(),r=(0,te.s0)(),s=(0,te.UO)();return(0,N.jsx)(e,(0,ee.Z)((0,ee.Z)({},t),{},{router:{location:o,navigate:r,params:s}}))}},re=o(7781),se=o(1468),ne=function(e){(0,n.Z)(o,e);var t=(0,i.Z)(o);function o(){return(0,r.Z)(this,o),t.apply(this,arguments)}return(0,s.Z)(o,[{key:"componentDidMount",value:function(){this.setProfile()}},{key:"componentDidUpdate",value:function(e){e.router.params.userId!==this.props.router.params.userId&&this.setProfile()}},{key:"setProfile",value:function(){var e=this.props.router.params.userId;(e||(e=this.props.myId))&&(this.props.getUserById(e),this.props.getStatusById(e))}},{key:"render",value:function(){return(0,N.jsx)("div",{className:H.wrapper,children:(0,N.jsx)(Q,{isOwner:!this.props.router.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,uploadPhoto:this.props.uploadPhoto,editMode:this.props.editMode,toggleEditMode:this.props.toggleEditMode,updateProfile:this.props.updateProfile})})}}]),o}(P.Component);var ie=(0,re.qC)(se.Z,(0,a.$j)((function(e){return{profile:e.profilePage.currentProfile,status:e.profilePage.status,myId:e.auth.id,editMode:e.profilePage.editMode}}),{getUserById:z.mB,getStatusById:z.gU,updateStatus:z.dw,uploadPhoto:z.WV,toggleEditMode:z.Mb,updateProfile:z.Fw}),oe)(ne)},9274:function(e,t,o){o.d(t,{N:function(){return l}});var r=o(8683),s=o(5987),n=o(4544),i=o(184),a=["type","meta","input"];function l(e){var t=e.type,o=void 0===t?"text":t,l=e.meta,u=l.error,c=l.touched,d=e.input,p=(0,s.Z)(e,a),f=c&&u;return(0,i.jsxs)("div",{className:"".concat(n.Z.formControl," ").concat(f?n.Z.error:""),children:["textarea"===o&&(0,i.jsx)("textarea",(0,r.Z)((0,r.Z)({},d),p)),"text"===o&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"text"},d),p)),"email"===o&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"email"},d),p)),"password"===o&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"password"},d),p)),"checkbox"===o&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"checkbox"},d),p)),f&&(0,i.jsx)("span",{children:u})]})}},6051:function(e,t,o){o.d(t,{B:function(){return s},C:function(){return r}});var r=function(e){return e?void 0:"Required field"},s=function(e){return function(t){return t&&t.length>e?"Length must be less than ".concat(e," symbols"):void 0}}},4544:function(e,t){t.Z={formControl:"FormControl_formControl__R9RWM",error:"FormControl_error__CC5RU",formError:"FormControl_formError__CyVj3"}}}]);
//# sourceMappingURL=25.2355a81a.chunk.js.map
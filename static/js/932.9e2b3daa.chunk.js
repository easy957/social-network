"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[932],{932:function(e,n,r){r.r(n),r.d(n,{default:function(){return M}});var t=r(8683),i=r(8997),s="Users_item__KD6rO",l="Users_photo__r-B0M",a="Users_button__r5-uP",u="Users_profileInfo__E7Th-",c="Users_name__85yu-",o="Users_status__2SZCL",d=r(4622),f=r(1087),m=r(299),h=r(2791),g="Paginator_pages__xZaO7",_="Paginator_page__FNDKJ",p="Paginator_activePage__5CqDU",x="Paginator_setsWrapper__zjfy2",j="Paginator_pagesSetBtn__UgVZS",v=r(184);var b=function(e){for(var n=e.totalUsersCount,r=e.handlePageClick,t=e.pageSize,s=void 0===t?20:t,l=e.currentPage,a=void 0===l?1:l,u=e.portionSize,c=void 0===u?20:u,o=Math.ceil(n/s),d=[],f=1;f<=o;f++)d.push(f);var m=Math.ceil(o/c),b=(0,h.useState)(Math.ceil(a/c)),P=(0,i.Z)(b,2),N=P[0],C=P[1],U=(N-1)*c,k=N*c+1;return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:x,children:[o>120&&(0,v.jsx)("button",{className:j,onClick:function(){return C(N-10)},disabled:N<=10,children:"<<"}),o>20&&(0,v.jsx)("button",{className:j,onClick:function(){return C(N-1)},disabled:1===N,children:"<"}),(0,v.jsx)("ul",{className:g,children:d.filter((function(e){return U<e&&e<k})).map((function(e){return(0,v.jsx)("li",{children:(0,v.jsx)("button",{onClick:function(){r(e,s)},className:"".concat(_," ").concat(e===a&&p),children:e})},e)}))}),o>20&&(0,v.jsx)("button",{className:j,onClick:function(){return C(N+1)},disabled:N===m,children:">"}),o>120&&(0,v.jsx)("button",{className:j,onClick:function(){return C(N+10)},disabled:N>=m-10,children:"> >"})]})})},P=r(5705);var N=function(e){var n,r=e.searchUsers,t=e.filter,i={term:t.term,friend:null===t.friend?"null":!0===t.friend?"true":"false"};return(0,v.jsx)(P.J9,{enableReinitialize:!0,initialValues:i,onSubmit:function(e,t){var i=t.setSubmitting,s={term:e.term,friend:"true"===e.friend||"false"!==e.friend&&null};n&&clearTimeout(n),n=setTimeout((function(){r(s)}),750),i(!1)},children:function(e){e.isSubmitting;var n=e.submitForm,t=(e.resetForm,e.setFieldValue);return(0,v.jsxs)(P.l0,{onChange:n,children:[(0,v.jsx)(P.gN,{type:"text",name:"term",placeholder:"Search by name..."}),(0,v.jsxs)(P.gN,{component:"select",name:"friend",children:[(0,v.jsx)("option",{value:"null",children:"All"}),(0,v.jsx)("option",{value:"true",children:"Only friends"}),(0,v.jsx)("option",{value:"false",children:"Only NOT a friends"})]}),(0,v.jsx)("button",{type:"button",onClick:function(){t("friend","null"),t("term",""),r({term:"",friend:null})},children:"Reset"})]})}})},C=r(6315),U=r(8687),k=r(6916),S=function(e){return e.usersPage.users},y=function(e){return e.usersPage.pageSize},Z=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.currentPage},w=function(e){return e.usersPage.isLoading},z=function(e){return e.usersPage.areFetchingFollow},O=function(e){return e.usersPage.filter};(0,k.P1)(S,F,(function(e,n){return e.filter((function(e){return!0}))}));var M=function(){var e=(0,U.I0)(),n=(0,U.v9)(S),r=(0,U.v9)(F),g=(0,U.v9)(w),_=(0,U.v9)(O),p=(0,U.v9)(z),x=(0,U.v9)(Z),j=(0,U.v9)(y),P=(0,f.lr)(),k=(0,i.Z)(P,2),M=k[0],R=k[1],T=(0,h.useRef)(M.get("page")),D=(0,h.useRef)({friend:null,term:""});return(0,h.useEffect)((function(){M.get("term")&&(D.current=(0,t.Z)((0,t.Z)({},D.current),{},{term:M.get("term")})),M.get("friend")&&(D.current=(0,t.Z)((0,t.Z)({},D.current),{},{friend:"null"===M.get("friend")?null:"true"===M.get("friend")})),0===n.length&&e((0,C.aH)(T.current?Number(T.current):1,j,D.current))}),[e,j,M,n.length]),(0,h.useEffect)((function(){R((function(e){return null!==_.friend?e.set("friend",!0===_.friend?"true":"false"):e.delete("friend"),_.term?e.set("term",_.term):e.delete("term"),1!==r?e.set("page",r.toString()):e.delete("page"),e}))}),[r,_.friend,_.term,R]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(b,{handlePageClick:function(n,r){e((0,C.aH)(n,r,_))},pageSize:j,totalUsersCount:x,currentPage:r}),(0,v.jsx)(N,{filter:_,searchUsers:function(n){e((0,C.aH)(1,j,n))}}),(0,v.jsxs)("div",{style:{position:"relative"},children:[g&&(0,v.jsx)(m.Z,{}),(0,v.jsx)("ul",{children:n.map((function(n){return(0,v.jsxs)("li",{className:s,children:[(0,v.jsxs)("div",{children:[(0,v.jsx)(f.OL,{to:"../profile/".concat(n.id),children:(0,v.jsx)("img",{className:l,src:n.photos.small?n.photos.small:d,alt:"Profile"})}),(0,v.jsx)("button",{disabled:(r=n.id,p.some((function(e){return e===r}))),className:a,onClick:function(){e((0,C.N6)(n.id,n.followed))},children:n.followed?"Unfollow":"Follow"})]}),(0,v.jsxs)("div",{className:u,children:[(0,v.jsx)("p",{className:c,children:n.name}),n.status&&(0,v.jsx)("p",{className:o,children:n.status})]}),(0,v.jsxs)("p",{children:["user.location.country",", ","user.location.city"]})]},n.id);var r}))})]})]})}}}]);
//# sourceMappingURL=932.9e2b3daa.chunk.js.map
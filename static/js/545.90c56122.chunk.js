"use strict";(self.webpackChunkreact_01=self.webpackChunkreact_01||[]).push([[545],{7284:function(e,n,t){var r=t(8683),o=t(5987),s=t(8687),i=t(7689),a=t(184),l=["isAuth"];function c(e){return{isAuth:e.auth.isAuth}}n.Z=function(e){return(0,s.$j)(c)((function(n){var t=n.isAuth,s=(0,o.Z)(n,l);return t?(0,a.jsx)(e,(0,r.Z)({},s)):(0,a.jsx)(i.Fg,{to:"/login"})}))}},2545:function(e,n,t){t.r(n),t.d(n,{default:function(){return re}});var r="ProfileInfo_profile__XM2oU",o="ProfileInfo_name__nzLXx",s="ProfileInfo_photo__xlmyX",i="ProfileInfo_links__mTIPu",a="ProfileInfo_link__RK8eP",l="ProfileInfo_aboutMe__l7xQO",c="ProfileInfo_status__YrBI5",u="ProfileInfo_statusInput__XlSnR",d="ProfileInfo_uploadPhoto__rkocf",f="ProfileInfo_editProfile__wBdE-",m="ProfileInfo_editButtons__2gLxC",h=t(4622),x=t(8997),p=t(2791),j=t(184);var _=function(e){var n=e.status,t=e.updateStatus,r=e.isOwner,o=(0,p.useState)(!1),s=(0,x.Z)(o,2),i=s[0],a=s[1],l=(0,p.useState)(n||""),d=(0,x.Z)(l,2),f=d[0],m=d[1];function h(){r&&(i&&n!==f&&t(f),a(!i))}return(0,p.useEffect)((function(){m(n||"")}),[n]),(0,j.jsxs)(j.Fragment,{children:[!i&&(0,j.jsx)("p",{onDoubleClick:h,className:c,children:n||r&&"(double click to edit your status)"}),i&&(0,j.jsx)("input",{value:f,onInput:function(e){var n=e.currentTarget;m(n.value)},onBlur:h,className:u,autoFocus:!0})]})},v=t(299),g=t(6139),N=t(5915),P=t(9775),b=t(4544),Z="ProfileEditForm_wrapper__g-1xj",k="ProfileEditForm_fieldsContainer__vA7hr",C="ProfileEditForm_lookingForContainer__GPeKr",F="ProfileEditForm_lookingForInput__24kXi",y="ProfileEditForm_saveBtn__w6BTT";var I=function(e){var n=e.handleSubmit,t=e.profile,r=e.error,o=(0,p.useState)(t.lookingForAJob),s=(0,x.Z)(o,2),i=s[0],a=s[1];return(0,j.jsxs)("form",{className:Z,onSubmit:n,children:[(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:k,children:[(0,j.jsx)("span",{children:"Full name: "}),(0,j.jsx)(g.Z,{validate:[P.C],name:"fullName",component:N.N,placeholder:"enter your full name"})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"Links: "}),Object.entries(t.contacts).map((function(e){return(0,j.jsx)(g.Z,{name:"contacts.".concat(e[0]),component:N.N,placeholder:e[0]},e[0])}))]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{className:k,children:[(0,j.jsx)("span",{children:"About me: "}),(0,j.jsx)(g.Z,{name:"aboutMe",type:"textarea",component:N.N,placeholder:"tell something about yourself"})]}),(0,j.jsxs)("div",{className:k,children:[(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("span",{children:"Looking for a job? "}),(0,j.jsx)(g.Z,{className:F,onChange:function(){a(!i)},name:"lookingForAJob",component:N.N,type:"checkbox"})]}),i&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("span",{children:"Which job are you looking for? "}),(0,j.jsx)(g.Z,{name:"lookingForAJobDescription",type:"textarea",component:N.N,placeholder:"tell something about yourself"})]}),r&&(0,j.jsx)("p",{className:b.Z.formError,children:r})]}),(0,j.jsx)("button",{className:y,children:"Save"})]})]})},w=t(704),A=t(9439),S=t(6407),E=t(8687),B=function(e){return e.profilePage.currentProfile},M=function(e){return e.profilePage.status},L=function(e){return e.profilePage.editMode},R=t(7689),J=function(e){return e.auth.id},O=(0,w.Z)({form:"edit-profile"})(I);var U=function(){var e=(0,R.UO)(),n=!e.userId,t=(0,E.v9)(B),c=(0,E.v9)(M),u=(0,E.v9)(L),x=(0,E.v9)(J),g=(0,A.TL)();return(0,p.useEffect)((function(){var n;((n=e.userId?Number(e.userId):null)||(n=x))&&(g((0,S.mB)(n)),g((0,S.gU)(n)))}),[g,x,e.userId]),t?(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:r,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("img",{className:s,src:function(){if(null!==t&&void 0!==t&&t.photos)return"".concat(null===t.photos.large?h:t.photos.large)}(),alt:"Profile"}),(0,j.jsx)("div",{className:m,children:n&&(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)("label",{className:d,children:["Upload new photo",(0,j.jsx)("input",{type:"file",onChange:function(e){var n;null!==(n=e.target.files)&&void 0!==n&&n.length&&g((0,S.WV)(e.target.files[0]))}})]}),!u&&(0,j.jsx)("button",{className:f,onClick:function(){g(S.Nw.setEditMode(!u))},children:"Edit Profile"})]})})]}),u?(0,j.jsx)(O,{initialValues:t,profile:t,onSubmit:function(e){g((0,S.Fw)(e))}}):(0,j.jsxs)("div",{children:[(0,j.jsx)("h2",{className:o,children:t.fullName}),(0,j.jsx)(_,{isOwner:n,updateStatus:function(e){g((0,S.dw)(e))},status:c}),(0,j.jsx)("ul",{className:i,children:function(){if(t)return Object.entries(t.contacts).map((function(e){if(e[1])return(0,j.jsx)("li",{children:(0,j.jsx)("a",{target:"_blank",className:a,href:e[1],rel:"noreferrer",children:e[0]})},e[0])}))}()}),(0,j.jsx)("p",{className:l,children:t.aboutMe}),function(){if(t)return t.lookingForAJob?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)("h3",{children:"Looking for a job: "}),(0,j.jsx)("p",{children:t.lookingForAJobDescription})]}):void 0}()]})]})}):(0,j.jsx)(v.Z,{})},K="MyPosts_list__3Nw2i",T="MyPosts_wrapper__u1ISI",D=(0,P.B)(50);var X=function(e){var n=e.handleSubmit;return(0,j.jsxs)("form",{onSubmit:n,children:[(0,j.jsx)(g.Z,{component:N.N,type:"textarea",name:"newPost",validate:[D,P.C],placeholder:"Create new post."}),(0,j.jsx)("button",{children:"Add Post"})]})},Y="Post_post__wW6-Y",q="Post_avatar__J150j",V="Post_text__Js3ZD",W="Post_content__DFcK4",z="Post_likes__K9KVP";var G=function(e){var n=e.message,t=e.likesCount;return(0,j.jsxs)("li",{className:Y,children:[(0,j.jsx)("img",{className:q,src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQxCgYOgHmN5jdz_T0RLYI9BUhR6nYs2fK8NA&usqp=CAU",alt:"Profile"}),(0,j.jsxs)("div",{className:W,children:[(0,j.jsx)("p",{className:V,children:n}),(0,j.jsxs)("p",{className:z,children:[t," likes"]})]})]})},Q=(0,w.Z)({form:"newPost"})(X),$=function(e){var n=e.posts,t=e.addPost;return(0,j.jsxs)("div",{className:T,children:[(0,j.jsx)("h2",{children:"my posts"}),(0,j.jsx)(Q,{onSubmit:function(e){var n=e.newPost;t(n)}}),(0,j.jsx)("ul",{className:K,children:n.map((function(e){var n=e.text,t=e.likesCount,r=e.id;return(0,j.jsx)(G,{message:n,likesCount:t},r)}))})]})},H=(0,E.$j)((function(e){return{posts:e.profilePage.posts}}),{addPost:S.Nw.addPost})($),ee={},ne=t(7781),te=t(7284);var re=(0,ne.qC)(te.Z)((function(){return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:ee.wrapper,children:[(0,j.jsx)(U,{}),(0,j.jsx)(H,{})]})})}))},5915:function(e,n,t){t.d(n,{N:function(){return l}});var r=t(8683),o=t(5987),s=t(4544),i=t(184),a=["type","meta","input"];function l(e){var n=e.type,t=void 0===n?"text":n,l=e.meta,c=l.error,u=l.touched,d=e.input,f=(0,o.Z)(e,a),m=u&&c;return(0,i.jsxs)("div",{className:"".concat(s.Z.formControl," ").concat(m?s.Z.error:""),children:["textarea"===t&&(0,i.jsx)("textarea",(0,r.Z)((0,r.Z)({},d),f)),"text"===t&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"text"},d),f)),"email"===t&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"email"},d),f)),"password"===t&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"password"},d),f)),"checkbox"===t&&(0,i.jsx)("input",(0,r.Z)((0,r.Z)({type:"checkbox"},d),f)),m&&(0,i.jsx)("span",{children:c})]})}},9775:function(e,n,t){t.d(n,{B:function(){return o},C:function(){return r}});var r=function(e){return e?void 0:"Required field"},o=function(e){return function(n){return n&&n.length>e?"Length must be less than ".concat(e," symbols"):void 0}}},4544:function(e,n){n.Z={formControl:"FormControl_formControl__R9RWM",error:"FormControl_error__CC5RU",formError:"FormControl_formError__CyVj3"}}}]);
//# sourceMappingURL=545.90c56122.chunk.js.map